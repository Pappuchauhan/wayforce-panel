import{i as R,r as S,S as F,e as I,u as A,j as s,d as f,L as T}from"./index-tXNXoeRs.js";import{e as D,h as U,d as M}from"./Layout-7PXJC5ix.js";import{s as O}from"./spinner-R50PTWTV.js";import{A as q}from"./AdminServices-uOdDQ_SW.js";import{P,d as $,C as b,b as H,A as h,e as N}from"./ProductServices-dm5sYQJF.js";import{L as C}from"./LanguageServices-fZF5pM4d.js";import{u as K}from"./DrawerButton-F3DRAt7t.js";import{n as o,a as d}from"./toast-1_nHReMg.js";import{r as c}from"./httpService-W4D8ylqE.js";import{U as V}from"./UserServices-TL_joi2w.js";import{T as w}from"./Tooltip-tbnP4Kxc.js";const Z={addCategory:async t=>c.post("/category/create",t),getAllCategory:async t=>c.get("/category",t),getCategoryById:async t=>c.get(`/category/get/${t}`),updateCategory:async(t,n)=>c.put(`/category/update/${t}`,n),deleteCategory:async t=>c.delete(`/category/delete/${t}`)},_={addPage:async t=>c.post("/page",t),getAllPage:async t=>c.get("/page",t),getPageById:async t=>c.get(`/page/${t}`),updatePage:async(t,n)=>c.put(`/page/${t}`,n),deletePage:async t=>c.delete(`/page/${t}`)},z={getAllReview:async t=>c.get("/review",t),getReviewById:async t=>c.get(`/review/${t}`),updateReview:async(t,n)=>c.put(`/review/${t}`,n),deleteReview:async t=>c.delete(`/review/${t}`)},G={addBanner:async t=>c.post("/banner",t),getAllBanners:async()=>c.get("/banner"),getBannerById:async t=>c.get(`/banner/${t}`),updateBanner:async(t,n)=>c.put(`/banner/${t}`,n),deleteBanner:async t=>c.delete(`/banner/${t}`)},J=({id:t,ids:n,setIsCheck:g,category:x,title:m,useParamId:v})=>{const{isModalOpen:p,closeModal:a,setIsUpdate:r}=S.useContext(F),{setServiceId:l}=K(),u=I(),[E,i]=S.useState(!1),L=async()=>{var j,B;try{if(i(!0),u.pathname==="/products")if(n){const e=await P.deleteManyProducts({ids:n});r(!0),o(e.message),g([]),l(),a(),i(!1)}else{const e=await P.deleteProduct(t);r(!0),o(e.message),l(),a(),i(!1)}if(u.pathname==="/coupons")if(n){const e=await $.deleteManyCoupons({ids:n});r(!0),o(e.message),g([]),l(),a(),i(!1)}else{const e=await $.deleteCoupon(t);r(!0),o(e.message),l(),a(),i(!1)}if(u.pathname==="/categories"||x)if(n){const e=await b.deleteManyCategory({ids:n});r(!0),o(e.message),g([]),l(),a(),i(!1)}else{if(t===void 0||!t)return d("Please select a category first!"),i(!1),a();const e=await b.deleteCategory(t);r(!0),o(e.message),a(),l(),i(!1)}else if(u.pathname===`/categories/${v}`||x){if(t===void 0||!t)return d("Please select a category first!"),i(!1),a();const e=await b.deleteCategory(t);r(!0),o(e.message),a(),l(),i(!1)}if(u.pathname==="/my-category"&&(Z.deleteCategory(t).then(e=>{r(!0),o(e.message)}).catch(e=>d(e.message)),a(),l()),u.pathname==="/user"&&(V.deleteUser(t).then(e=>{r(!0),o(e.message)}).catch(e=>d(e.message)),a(),l()),u.pathname==="/page"&&(_.deletePage(t).then(e=>{r(!0),o(e.message)}).catch(e=>d(e.message)),a(),l()),u.pathname==="/reviews"&&(z.deleteReview(t).then(e=>{r(!0),o(e.message)}).catch(e=>d(e.message)),a(),l()),u.pathname==="/banners"&&(G.deleteBanner(t).then(e=>{r(!0),o(e.message)}).catch(e=>d(e.message)),a(),l()),u.pathname==="/customers"){const e=await H.deleteCustomer(t);r(!0),o(e.message),l(),a(),i(!1)}if(u.pathname==="/attributes")if(n){const e=await h.deleteManyAttribute({ids:n});r(!0),o(e.message),g([]),l(),a(),i(!1)}else{const e=await h.deleteAttribute(t);r(!0),o(e.message),l(),a(),i(!1)}if(u.pathname===`/attributes/${u.pathname.split("/")[2]}`)if(n){const e=await h.deleteManyChildAttribute({id:u.pathname.split("/")[2],ids:n});r(!0),o(e.message),l(),g([]),a(),i(!1)}else{const e=await h.deleteChildAttribute({id:t,ids:u.pathname.split("/")[2]});r(!0),o(e.message),l(),a(),i(!1)}if(u.pathname==="/our-staff"){const e=await q.deleteStaff(t);r(!0),o(e.message),l(),a(),i(!1)}if(u.pathname==="/languages")if(n){const e=await C.deleteManyLanguage({ids:n});r(!0),o(e.message),g([]),a(),i(!1)}else{const e=await C.deleteLanguage(t);r(!0),o(e.message),l(),a(),i(!1)}if(u.pathname==="/currencies")if(n){const e=await N.deleteManyCurrency({ids:n});r(!0),o(e.message),g([]),a(),i(!1)}else{const e=await N.deleteCurrency(t);r(!0),o(e.message),l(),a(),i(!1)}}catch(e){d(e?(B=(j=e==null?void 0:e.response)==null?void 0:j.data)==null?void 0:B.message:e==null?void 0:e.message),l(),g([]),a(),i(!1)}},{t:y}=A();return s.jsx(s.Fragment,{children:s.jsxs(f.Modal,{isOpen:p,onClose:a,children:[s.jsxs(f.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[s.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:s.jsx(D,{})}),s.jsxs("h2",{className:"text-xl font-medium mb-2",children:[y("DeleteModalH2")," ",s.jsx("span",{className:"text-red-500",children:m}),"?"]}),s.jsx("p",{children:y("DeleteModalPtag")})]}),s.jsxs(f.ModalFooter,{className:"justify-center",children:[s.jsx(f.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:a,children:y("modalKeepBtn")}),s.jsx("div",{className:"flex justify-end",children:E?s.jsxs(f.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[s.jsx("img",{src:O,alt:"Loading",width:20,height:10})," ",s.jsx("span",{className:"font-serif ml-2 font-light",children:y("Processing")})]}):s.jsx(f.Button,{onClick:L,className:"w-full h-12 sm:w-auto",children:y("modalDeletBtn")})})]})]})})},oe=R.memo(J),le=({id:t,title:n,handleUpdate:g,handleModalOpen:x,isCheck:m,product:v,parent:p,children:a})=>{const{t:r}=A();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex justify-end text-right",children:[(a==null?void 0:a.length)>0?s.jsxs(s.Fragment,{children:[s.jsx(T,{to:`/categories/${p==null?void 0:p._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(w,{id:"view",Icon:U,title:r("View"),bgColor:"#10B981"})}),s.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>g(t),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(w,{id:"edit",Icon:M,title:r("Edit"),bgColor:"#10B981"})})]}):s.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>g(t),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(w,{id:"edit",Icon:M,title:r("Edit"),bgColor:"#10B981"})}),s.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>x(t,n,v),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600 focus:outline-none",children:s.jsx(w,{id:"delete",Icon:D,title:r("Delete"),bgColor:"#EF4444"})})]})})};export{G as B,oe as D,le as E,Z as M,_ as P,z as R};
