import{i as U,r as M,S as F,e as I,u as A,j as s,d,L as T}from"./index-BcEi1spj.js";import{e as D,h as O,d as P}from"./Layout-U-v81hJw.js";import{s as R}from"./spinner-R50PTWTV.js";import{A as q}from"./AdminServices-4LF9doyr.js";import{P as N,d as $,C as w,b as H,A as h,e as B}from"./ProductServices-yLpjgfy_.js";import{L as C}from"./LanguageServices-8I-lsifF.js";import{u as K}from"./DrawerButton-w5HYixQR.js";import{n as l,a as f}from"./toast-A2-s9beD.js";import{r as i}from"./httpService-u1VH4XlH.js";import{T as j}from"./Tooltip-Ib_OQi5O.js";const V={addCategory:async e=>i.post("/category/create",e),getAllCategory:async e=>i.get("/category",e),getCategoryById:async e=>i.get(`/category/get/${e}`),updateCategory:async(e,o)=>i.put(`/category/update/${e}`,o),deleteCategory:async e=>i.delete(`/category/delete/${e}`)},Z={addUser:async e=>i.post("/user/register",e),getAllUser:async e=>i.get("/user",e),getUserById:async e=>i.get(`/user/${e}`),updateUser:async(e,o)=>i.put(`/user/${e}`,o),deleteUser:async e=>i.delete(`/user/${e}`),updateUserStatus:async(e,o)=>i.put(`/user/update-status/${e}`,o)},_={addPage:async e=>i.post("/page",e),getAllPage:async e=>i.get("/page",e),getPageById:async e=>i.get(`/page/${e}`),updatePage:async(e,o)=>i.put(`/page/${e}`,o),deletePage:async e=>i.delete(`/page/${e}`)},z=({id:e,ids:o,setIsCheck:g,category:x,title:m,useParamId:b})=>{const{isModalOpen:p,closeModal:a,setIsUpdate:r}=M.useContext(F),{setServiceId:u}=K(),c=I(),[E,n]=M.useState(!1),L=async()=>{var v,S;try{if(n(!0),c.pathname==="/products")if(o){const t=await N.deleteManyProducts({ids:o});r(!0),l(t.message),g([]),u(),a(),n(!1)}else{const t=await N.deleteProduct(e);r(!0),l(t.message),u(),a(),n(!1)}if(c.pathname==="/coupons")if(o){const t=await $.deleteManyCoupons({ids:o});r(!0),l(t.message),g([]),u(),a(),n(!1)}else{const t=await $.deleteCoupon(e);r(!0),l(t.message),u(),a(),n(!1)}if(c.pathname==="/categories"||x)if(o){const t=await w.deleteManyCategory({ids:o});r(!0),l(t.message),g([]),u(),a(),n(!1)}else{if(e===void 0||!e)return f("Please select a category first!"),n(!1),a();const t=await w.deleteCategory(e);r(!0),l(t.message),a(),u(),n(!1)}else if(c.pathname===`/categories/${b}`||x){if(e===void 0||!e)return f("Please select a category first!"),n(!1),a();const t=await w.deleteCategory(e);r(!0),l(t.message),a(),u(),n(!1)}if(c.pathname==="/my-category"&&(V.deleteCategory(e).then(t=>{r(!0),l(t.message)}).catch(t=>f(t.message)),a(),u()),c.pathname==="/user"&&(Z.deleteUser(e).then(t=>{r(!0),l(t.message)}).catch(t=>f(t.message)),a(),u()),c.pathname==="/page"&&(_.deletePage(e).then(t=>{r(!0),l(t.message)}).catch(t=>f(t.message)),a(),u()),c.pathname==="/customers"){const t=await H.deleteCustomer(e);r(!0),l(t.message),u(),a(),n(!1)}if(c.pathname==="/attributes")if(o){const t=await h.deleteManyAttribute({ids:o});r(!0),l(t.message),g([]),u(),a(),n(!1)}else{const t=await h.deleteAttribute(e);r(!0),l(t.message),u(),a(),n(!1)}if(c.pathname===`/attributes/${c.pathname.split("/")[2]}`)if(o){const t=await h.deleteManyChildAttribute({id:c.pathname.split("/")[2],ids:o});r(!0),l(t.message),u(),g([]),a(),n(!1)}else{const t=await h.deleteChildAttribute({id:e,ids:c.pathname.split("/")[2]});r(!0),l(t.message),u(),a(),n(!1)}if(c.pathname==="/our-staff"){const t=await q.deleteStaff(e);r(!0),l(t.message),u(),a(),n(!1)}if(c.pathname==="/languages")if(o){const t=await C.deleteManyLanguage({ids:o});r(!0),l(t.message),g([]),a(),n(!1)}else{const t=await C.deleteLanguage(e);r(!0),l(t.message),u(),a(),n(!1)}if(c.pathname==="/currencies")if(o){const t=await B.deleteManyCurrency({ids:o});r(!0),l(t.message),g([]),a(),n(!1)}else{const t=await B.deleteCurrency(e);r(!0),l(t.message),u(),a(),n(!1)}}catch(t){f(t?(S=(v=t==null?void 0:t.response)==null?void 0:v.data)==null?void 0:S.message:t==null?void 0:t.message),u(),g([]),a(),n(!1)}},{t:y}=A();return s.jsx(s.Fragment,{children:s.jsxs(d.Modal,{isOpen:p,onClose:a,children:[s.jsxs(d.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[s.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:s.jsx(D,{})}),s.jsxs("h2",{className:"text-xl font-medium mb-2",children:[y("DeleteModalH2")," ",s.jsx("span",{className:"text-red-500",children:m}),"?"]}),s.jsx("p",{children:y("DeleteModalPtag")})]}),s.jsxs(d.ModalFooter,{className:"justify-center",children:[s.jsx(d.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:a,children:y("modalKeepBtn")}),s.jsx("div",{className:"flex justify-end",children:E?s.jsxs(d.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[s.jsx("img",{src:R,alt:"Loading",width:20,height:10})," ",s.jsx("span",{className:"font-serif ml-2 font-light",children:y("Processing")})]}):s.jsx(d.Button,{onClick:L,className:"w-full h-12 sm:w-auto",children:y("modalDeletBtn")})})]})]})})},se=U.memo(z),re=({id:e,title:o,handleUpdate:g,handleModalOpen:x,isCheck:m,product:b,parent:p,children:a})=>{const{t:r}=A();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex justify-end text-right",children:[(a==null?void 0:a.length)>0?s.jsxs(s.Fragment,{children:[s.jsx(T,{to:`/categories/${p==null?void 0:p._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(j,{id:"view",Icon:O,title:r("View"),bgColor:"#10B981"})}),s.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>g(e),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(j,{id:"edit",Icon:P,title:r("Edit"),bgColor:"#10B981"})})]}):s.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>g(e),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(j,{id:"edit",Icon:P,title:r("Edit"),bgColor:"#10B981"})}),s.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>x(e,o,b),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600 focus:outline-none",children:s.jsx(j,{id:"delete",Icon:D,title:r("Delete"),bgColor:"#EF4444"})})]})})};export{se as D,re as E,V as M,_ as P,Z as U};
