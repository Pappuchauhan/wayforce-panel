import{i as R,r as M,S as F,e as I,u as A,j as s,d as f,L as T}from"./index-bXf7bkfr.js";import{e as D,h as U,d as P}from"./Layout-ruJfPJtj.js";import{s as O}from"./spinner-R50PTWTV.js";import{A as q}from"./AdminServices-B80tspSM.js";import{P as N,d as B,C as j,b as H,A as h,e as C}from"./ProductServices-Gd1CbPQ6.js";import{L as $}from"./LanguageServices-AJcmbBg5.js";import{u as K}from"./DrawerButton-lg5Ps63C.js";import{n as l,a as d}from"./toast-J_gpu8Z1.js";import{r as u}from"./httpService-79bAftQe.js";import{U as V}from"./UserServices-_gsJi_DW.js";import{T as w}from"./Tooltip-Sv8x7z5D.js";const Z={addCategory:async t=>u.post("/category/create",t),getAllCategory:async t=>u.get("/category",t),getCategoryById:async t=>u.get(`/category/get/${t}`),updateCategory:async(t,o)=>u.put(`/category/update/${t}`,o),deleteCategory:async t=>u.delete(`/category/delete/${t}`)},_={addPage:async t=>u.post("/page",t),getAllPage:async t=>u.get("/page",t),getPageById:async t=>u.get(`/page/${t}`),updatePage:async(t,o)=>u.put(`/page/${t}`,o),deletePage:async t=>u.delete(`/page/${t}`)},z={getAllReview:async t=>u.get("/review",t),getReviewById:async t=>u.get(`/review/${t}`),updateReview:async(t,o)=>u.put(`/review/${t}`,o),deleteReview:async t=>u.delete(`/review/${t}`)},G=({id:t,ids:o,setIsCheck:g,category:x,title:m,useParamId:v})=>{const{isModalOpen:p,closeModal:a,setIsUpdate:r}=M.useContext(F),{setServiceId:i}=K(),c=I(),[E,n]=M.useState(!1),L=async()=>{var b,S;try{if(n(!0),c.pathname==="/products")if(o){const e=await N.deleteManyProducts({ids:o});r(!0),l(e.message),g([]),i(),a(),n(!1)}else{const e=await N.deleteProduct(t);r(!0),l(e.message),i(),a(),n(!1)}if(c.pathname==="/coupons")if(o){const e=await B.deleteManyCoupons({ids:o});r(!0),l(e.message),g([]),i(),a(),n(!1)}else{const e=await B.deleteCoupon(t);r(!0),l(e.message),i(),a(),n(!1)}if(c.pathname==="/categories"||x)if(o){const e=await j.deleteManyCategory({ids:o});r(!0),l(e.message),g([]),i(),a(),n(!1)}else{if(t===void 0||!t)return d("Please select a category first!"),n(!1),a();const e=await j.deleteCategory(t);r(!0),l(e.message),a(),i(),n(!1)}else if(c.pathname===`/categories/${v}`||x){if(t===void 0||!t)return d("Please select a category first!"),n(!1),a();const e=await j.deleteCategory(t);r(!0),l(e.message),a(),i(),n(!1)}if(c.pathname==="/my-category"&&(Z.deleteCategory(t).then(e=>{r(!0),l(e.message)}).catch(e=>d(e.message)),a(),i()),c.pathname==="/user"&&(V.deleteUser(t).then(e=>{r(!0),l(e.message)}).catch(e=>d(e.message)),a(),i()),c.pathname==="/page"&&(_.deletePage(t).then(e=>{r(!0),l(e.message)}).catch(e=>d(e.message)),a(),i()),c.pathname==="/reviews"&&(z.deleteReview(t).then(e=>{r(!0),l(e.message)}).catch(e=>d(e.message)),a(),i()),c.pathname==="/customers"){const e=await H.deleteCustomer(t);r(!0),l(e.message),i(),a(),n(!1)}if(c.pathname==="/attributes")if(o){const e=await h.deleteManyAttribute({ids:o});r(!0),l(e.message),g([]),i(),a(),n(!1)}else{const e=await h.deleteAttribute(t);r(!0),l(e.message),i(),a(),n(!1)}if(c.pathname===`/attributes/${c.pathname.split("/")[2]}`)if(o){const e=await h.deleteManyChildAttribute({id:c.pathname.split("/")[2],ids:o});r(!0),l(e.message),i(),g([]),a(),n(!1)}else{const e=await h.deleteChildAttribute({id:t,ids:c.pathname.split("/")[2]});r(!0),l(e.message),i(),a(),n(!1)}if(c.pathname==="/our-staff"){const e=await q.deleteStaff(t);r(!0),l(e.message),i(),a(),n(!1)}if(c.pathname==="/languages")if(o){const e=await $.deleteManyLanguage({ids:o});r(!0),l(e.message),g([]),a(),n(!1)}else{const e=await $.deleteLanguage(t);r(!0),l(e.message),i(),a(),n(!1)}if(c.pathname==="/currencies")if(o){const e=await C.deleteManyCurrency({ids:o});r(!0),l(e.message),g([]),a(),n(!1)}else{const e=await C.deleteCurrency(t);r(!0),l(e.message),i(),a(),n(!1)}}catch(e){d(e?(S=(b=e==null?void 0:e.response)==null?void 0:b.data)==null?void 0:S.message:e==null?void 0:e.message),i(),g([]),a(),n(!1)}},{t:y}=A();return s.jsx(s.Fragment,{children:s.jsxs(f.Modal,{isOpen:p,onClose:a,children:[s.jsxs(f.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[s.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:s.jsx(D,{})}),s.jsxs("h2",{className:"text-xl font-medium mb-2",children:[y("DeleteModalH2")," ",s.jsx("span",{className:"text-red-500",children:m}),"?"]}),s.jsx("p",{children:y("DeleteModalPtag")})]}),s.jsxs(f.ModalFooter,{className:"justify-center",children:[s.jsx(f.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:a,children:y("modalKeepBtn")}),s.jsx("div",{className:"flex justify-end",children:E?s.jsxs(f.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[s.jsx("img",{src:O,alt:"Loading",width:20,height:10})," ",s.jsx("span",{className:"font-serif ml-2 font-light",children:y("Processing")})]}):s.jsx(f.Button,{onClick:L,className:"w-full h-12 sm:w-auto",children:y("modalDeletBtn")})})]})]})})},oe=R.memo(G),ne=({id:t,title:o,handleUpdate:g,handleModalOpen:x,isCheck:m,product:v,parent:p,children:a})=>{const{t:r}=A();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex justify-end text-right",children:[(a==null?void 0:a.length)>0?s.jsxs(s.Fragment,{children:[s.jsx(T,{to:`/categories/${p==null?void 0:p._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(w,{id:"view",Icon:U,title:r("View"),bgColor:"#10B981"})}),s.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>g(t),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(w,{id:"edit",Icon:P,title:r("Edit"),bgColor:"#10B981"})})]}):s.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>g(t),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(w,{id:"edit",Icon:P,title:r("Edit"),bgColor:"#10B981"})}),s.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>x(t,o,v),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600 focus:outline-none",children:s.jsx(w,{id:"delete",Icon:D,title:r("Delete"),bgColor:"#EF4444"})})]})})};export{oe as D,ne as E,Z as M,_ as P,z as R};
